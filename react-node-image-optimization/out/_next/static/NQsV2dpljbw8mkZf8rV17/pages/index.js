(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{RNiq:function(e,t,a){"use strict";a.r(t);var n=a("dfwq"),s=a("0iUn"),i=a("sLSF"),l=a("MI3g"),r=a("a7VT"),o=a("AT/M"),m=a("Tit0"),c=a("hfKm"),p=a.n(c);function u(e,t,a){return t in e?p()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d=a("q1tI"),f=a.n(d);a("mrYn");a.d(t,"default",function(){return g});var g=function(e){function t(e){var a;return Object(s.default)(this,t),a=Object(l.default)(this,Object(r.default)(t).call(this,e)),u(Object(o.default)(a),"setImageType",function(e){a.state[e]?a.setState(u({},e,!1)):a.setState(u({},e,!0))}),u(Object(o.default)(a),"setSizes",function(e,t){a.setState(u({},e,t))}),a.uploadInput=f.a.createRef(),a.state={uploadStatus:null,preloaderStatus:!1,responseMessage:"",responseLink:0,responseInfo:"",progressElements:[],formatJpeg:!1,formatPng:!1,formatWebp:!1,smallSize:null,mediumSize:null,largeSize:null},a.handleDrop=a.handleDrop.bind(Object(o.default)(a)),a.handleFiles=a.handleFiles.bind(Object(o.default)(a)),a.uploadFile=a.uploadFile.bind(Object(o.default)(a)),a}return Object(m.default)(t,e),Object(i.default)(t,[{key:"componentDidMount",value:function(){var e=this.refs.droparea;if(e){var t=function(e){e.preventDefault(),e.stopPropagation()},a=function(t){e.classList.add("highlight")},n=function(t){e.classList.remove("highlight")};["dragenter","dragover","dragleave","drop"].forEach(function(a){e.addEventListener(a,t,!1)}),["dragenter","dragover"].forEach(function(t){e.addEventListener(t,a,!1)}),["dragleave","drop"].forEach(function(t){e.addEventListener(t,n,!1)}),e.addEventListener("drop",this.handleDrop,!1)}}},{key:"handleDrop",value:function(e){console.log(e);var t=e.dataTransfer.files;this.uploadFile(Object(n.default)(t))}},{key:"handleFiles",value:function(e){this.uploadFile(Object(n.default)(e))}},{key:"uploadFile",value:function(e){var t=this,a=new FormData;this.state.formatJpeg&&a.append("formatJpeg",this.state.formatJpeg),this.state.formatPng&&a.append("formatPng",this.state.formatPng),this.state.formatWebp&&a.append("formatWebp",this.state.formatWebp),null!=this.state.smallSize&&a.append("smallSize",this.state.smallSize),null!=this.state.mediumSize&&a.append("mediumSize",this.state.mediumSize),null!=this.state.largeSize&&a.append("largeSize",this.state.largeSize),e.forEach(function(e){a.append("uploads[]",e,e.name)}),this.setState({preloaderStatus:!0}),fetch("http://localhost:4000/express_backend",{method:"POST",body:a}).then(function(e){return e.json()}).then(function(e){t.setState({responseMessage:e.response,responseLink:e.link,responseInfo:e.message,preloaderStatus:!1}),t.uploadInput.current.value=null}).catch(function(){})}},{key:"render",value:function(){var e=this;return f.a.createElement("div",null,f.a.createElement("div",{className:"container"},f.a.createElement("div",{id:"drop-area",ref:"droparea"},!!e.state.preloaderStatus&&f.a.createElement("div",{className:"preloader"},f.a.createElement("img",{src:"/static/preloader.gif",alt:"preloader"})),f.a.createElement("form",{className:"my-form"},f.a.createElement("p",null,"Optimize files by pressing the button below or by dragging and dropping images onto the dashed region"),f.a.createElement("input",{name:"image",type:"file",id:"fileElem",multiple:!0,accept:"images/*",ref:e.uploadInput,onChange:function(t){e.uploadFile(Object(n.default)(t.currentTarget.files))}}),f.a.createElement("div",{className:"options__headline"},"Convert to formats:"),f.a.createElement("div",{className:"options"},f.a.createElement("div",{className:"options__group"},f.a.createElement("label",{className:"options__format ".concat(e.state.formatWebp?"active":""),htmlFor:"format-webp"},"Webp"),f.a.createElement("input",{className:"options__checkbox",type:"checkbox",id:"format-webp",name:"format-webp",onClick:function(){return e.setImageType("formatWebp")}})),f.a.createElement("div",{className:"options__group"},f.a.createElement("label",{className:"options__format ".concat(e.state.formatJpeg?"active":""),htmlFor:"format-jpeg"},"Jpeg"),f.a.createElement("input",{className:"options__checkbox",type:"checkbox",id:"format-jpeg",name:"format-jpeg",onClick:function(){return e.setImageType("formatJpeg")}})),f.a.createElement("div",{className:"options__group"},f.a.createElement("label",{className:"options__format ".concat(e.state.formatPng?"active":""),htmlFor:"format-png"},"Png"),f.a.createElement("input",{className:"options__checkbox",type:"checkbox",id:"format-png",name:"format-png",onClick:function(){return e.setImageType("formatPng")}}))),f.a.createElement("div",{className:"sizes__headline"},"Set Sizes:"),f.a.createElement("div",{className:"sizes"},f.a.createElement("div",{className:"sizes__group"},f.a.createElement("input",{className:"sizes__field",type:"number",min:"0",max:"800",id:"sizes-small",name:"sizes-small",placeholder:"Small",onChange:function(t){return e.setSizes("smallSize",t.target.value)}})),f.a.createElement("div",{className:"sizes__group"},f.a.createElement("input",{className:"sizes__field",type:"number",min:"0",max:"1200",id:"sizes-medium",name:"sizes-medium",placeholder:"Medium",onChange:function(t){return e.setSizes("mediumSize",t.target.value)}})),f.a.createElement("div",{className:"sizes__group"},f.a.createElement("input",{className:"sizes__field",type:"number",min:"0",max:"2000",id:"sizes-large",name:"sizes-large",placeholder:"Large",onChange:function(t){return e.setSizes("largeSize",t.target.value)}}))),f.a.createElement("label",{className:"button-optimize",htmlFor:"fileElem"},"Select single image"))),f.a.createElement("a",{className:"upload-response",href:this.state.responseLink},this.state.responseMessage),f.a.createElement("div",{className:"upload-info"},this.state.responseInfo)))}}]),t}(f.a.Component)},vlRD:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){var e=a("RNiq");return{page:e.default||e}}])}},[["vlRD",1,0,6]]]);